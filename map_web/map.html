<!doctype html>
<html lang="ko">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
		<title>지역탐색 앱</title>
		<link rel="stylesheet" href="css/style.css">
		<script src="https://code.jquery.com/jquery-3.6.0.js"
  		integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script> <!--AJAX를 사용하기 위한 jQUERY 호출-->
		<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=dx0rd7v5mk"></script> <!--지도 API 가져옴-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>  <!--표를 나타내기 위한 chart.js 가져옴-->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"> <!--여러 표를 나타내기 위한 부트스트랩-->
	</head>
	<body>
		<div id="container">
			<!--헤더 출력-->
			<div id="header">
				<h1>로그인, 초기화 화면 버튼 생성</h1>
			</div>
			<!--레프트-업 사이드바 출력-->
			<div id="left-sidebar">
				<h2>지역을 설정해주세요</h2>
				<br><h3>서울, 인천, 대구 등 지역명 나열된 버튼 생성</h3>
				<br><h3>아래에는 통계자료목록 나열</h3>
			</div> 
			
			<!--지도 출력-->
			<div id="map"></div> 
			<script src="js/map.js"></script>	
				<!--레프트 라이트바, 차트 출력-->
			<div id="right-sidebar">
				<script>
					const xmlhttp = new XMLHttpRequest(); // 객체가 서버와 상호작용 하기 위해 사용, url로 부터 데이터를 받아온다.
					const url = "https://kosis.kr/openapi/statisticsData.do?method=getList&apiKey=OGRjMDU5OWM2N2YyNjhhNDRlYmZlYmQ5MjhlMmFiMDU=&format=json&jsonVD=Y&userStatsId=kps5098/101/DT_1YL8801/2/1/20211104192053&prdSe=Y&newEstPrdCnt=1";
					xmlhttp.open('GET',url,true); // url로 부터 데이터를 받아서 활성화 하기 위한 요청, 안에 들어가는 항목은 데이터를 받는 형식, 해당 데이터를 추출할 위치, ajax 이므로 true가 들어가야 한다.
					xmlhttp.send(); 
					xmlhttp.onreadystatechange = function() { // 진행중인 네트워크 상황을 체크하는 명령어다.
						if(this.readyState == 4 && this.status == 200){
							const datapoints = JSON.parse(this.responseText); // json을 자바스크립트가 읽을 수 있게 파셋, 잘 안되면 200이 콘솔에 나온다.
							const labelslocal = datapoints.list.map	// json 데이터, 그러니까 list로 정의되어진 json 데이터를 map함수(콜백 된 결과를 갖고 새로운 배열을 만들때 사용됨)
						} 

					}
				</script>
				<canvas id="myChart"></canvas>
				<script src="js/list.js"></script>
				<!--푸터-->	
			</div>
			<div id="footer">
				<h2>footer</h2>

			</div>
		</div>
	</body>
</html>